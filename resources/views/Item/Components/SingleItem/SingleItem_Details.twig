{% set contactClass = services.customer.getContactClassId() %}
<div>
    <div class="producertag h6 producer text-muted" v-if="currentVariation.filter.hasManufacturer">
        ${ currentVariation.item.manufacturer.externalName }
    </div>

    <h1 class="h2 title">
                            <span>
                                ${ currentVariation | itemName }
                            </span>
    </h1>

    {% if ('item.shortDescription' in itemData or 'all' in itemData)%}
        <p class="single-description" v-if="currentVariation.texts.shortDescription !== ''" v-html="currentVariation.texts.shortDescription"></p>
    {% endif %}

    <hr>

    <div class="artikelnummerArtikelansicht">
                            <span class="articlenumber small text-muted">
                                <b>{{ trans("Ceres::Template.singleItemNumber") }}</b>
                                <span>${ currentVariation.variation.number }</span>
                                {% if contactClass == 2 %}

                                  <span v-if="currentVariation.stock.net !== 0" class="verfuegbare_menge"> Noch <b>${ currentVariation.stock.net } verfügbar</b></span>

                                {% endif %}

                            </span>
    </div>

    <!-- Variation -->
    <div class="mb-3" v-if="variations.length > 0">
        <variation-select template="#vue-variation-select" :attributes="attributeNameMap" :variation-units="variationUnits" :variations="variations" :preselect="currentVariation.variation.id" :unitPreselect="currentVariation.variation.unitCombinationId" @is-valid-change="isVariationSelected = $event"></variation-select>
    </div>
    <!-- /Variation -->

    <!-- Item Bundle -->
    <item-bundle :bundle-type="currentVariation.variation.bundleType" :bundle-components="currentVariation.bundleComponents"></item-bundle>
    <!-- /Item Bundle -->

    <slot name="BeforePrice"></slot>

    <div class="row" v-if="currentVariation.filter.isSalable && variationGroupedProperties.length">
        <order-property-list></order-property-list>
    </div>

    <graduated-prices template="#vue-graduated-prices"></graduated-prices>

    {% if ('item.recommendedPrice' in itemData or 'all' in itemData) %}
        <div class="crossprice" v-if="currentVariation.prices.rrp && currentVariation.prices.rrp.unitPrice.value > 0 && currentVariation.prices.rrp.unitPrice.value > currentVariation.prices.default.unitPrice.value">
            <del class="text-muted small">
                ${ currentVariation.prices.rrp.unitPrice.formatted }
            </del>
        </div>
    {% endif %}

    <span class="price h1">
                            <span ref="variationTotalPrice" :content="currentVariation.prices.default.price.value">
                                ${ variationTotalPrice | currency(currentVariation.prices.default.currency) }
                            </span>

                            <span :content="currentVariation.prices.default.currency"></span>
                            <div class="vat small text-muted mehrwertsteuer">
                                {% if services.customer.showNetPrices() %}{{ trans("Ceres::Template.singleItemExclVAT") }}{% else %}{{ trans("Ceres::Template.singleItemInclVAT") }}{% endif %} {{ trans("Ceres::Template.singleItemExclusive") }}
                                  <a {% if shippingCat is not empty %} data-toggle="modal" href="#shippingscosts"{% endif %} title="{{ trans("Ceres::Template.singleItemShippingCosts") }}">{{ trans("Ceres::Template.singleItemShippingCosts") }}</a>

                              </div>
                        </span>

    <div class="base-price text-muted my-3" v-if="currentVariation.unit">
        <div>
            {{ trans("Ceres::Template.singleItemContent") }}
            <span>${ currentVariation.unit.content | numberFormat }</span>
            <span>${ currentVariation.unit.names.name }</span>
        </div>
        <div v-if="currentVariation.variation.mayShowUnitPrice">
            {{ trans("Ceres::Template.singleItemUnitPrice") }}
            <span class="base-price-value">
                                    ${ variationGraduatedPrice.basePrice | specialOffer(currentVariation.prices, "basePrice") }
                                </span>
        </div>
    </div>

    <slot name="AfterPrice"></slot>

    <span v-if="currentVariation.variation.availability" :class="'availability badge availability_' + currentVariation.variation.availability.id">
                            <div class="verfuegbarkeit">
                                ${ currentVariation.variation.availability.names.name }
                            </div>
                        </span>

    <div class="row my-3">
        <div class="w-100">
            <slot name="BeforeAddToBasket"></slot>
        </div>

        <div class="w-100">
            {{ AddToBasket.printVueComponent(
                "currentVariation",
                false,
                true,
                {
                    ":missing-order-properties":"variationMissingProperties",
                    ":is-variation-selected": "isVariationSelected && currentVariation.filter.isSalable"
                }
            ) }}
        </div>

        <div class="w-100">
            <slot name="AfterAddToBasket"></slot>
        </div>
    </div>

    {% if "wish-list" in enabledRoutes or "all" in enabledRoutes %}
        <div class="row">
            <add-to-wish-list :variation-id="currentVariation.variation.id"></add-to-wish-list>
        </div>
    {% endif %}
    <!-- ./ITEM DETAIL -->

    <slot name="AdditionalContentAfterAddToBasket"></slot>

    <hr>

    <div class="iconsSingleItem">


                      <div class="gruppeIcons">

                          <h4>Dieser Artikel passt zu diesen Booten</h4>

                          <a href="#SchlauchbootIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 11" data-toggle="tooltip" title="Schlauchboot">
                              <span v-if="property.selection.name == 'Schlauchboot'">
                                <img src="https://www.lotu.de/images/gallery/icons/schlauchboot.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/schlauchboot1.png">
                              </span>
                          </span></a>

                            <div id="SchlauchbootIcon" class="lity-hide">
                              <p>Passend für Schlauchboote</p>
                            </div>

                          <a href="#AluminiumIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 15" data-toggle="tooltip" title="Aluminium Boot">
                              <span v-if="property.selection.name == 'Aluminium Boot'">
                                <img src="https://www.lotu.de/images/gallery/icons/aluminium.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/aluminium1.png">
                              </span>
                          </span></a>

                          <div id="AluminiumIcon" class="lity-hide">
                            <p>Passend für Aluminium Boot</p>
                          </div>

                          <a href="#KajakIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 12" data-toggle="tooltip" title="Kajak">
                              <span v-if="property.selection.name == 'Kajak'">
                                <img src="https://www.lotu.de/images/gallery/icons/kajak.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/kajak1.png">
                              </span>
                          </span></a>

                          <div id="KajakIcon" class="lity-hide">
                            <p>Passend für Kajak Boot</p>
                          </div>

                          <a href="#BellyBoot" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 17" data-toggle="tooltip" title="Belly Boot">
                              <span v-if="property.selection.name == 'Belly Boot'">
                                <img src="https://www.lotu.de/images/gallery/icons/belly.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/belly1.png">
                              </span>
                          </span></a>

                          <div id="BellyBoot" class="lity-hide">
                            <p>Passend für Belly Boot</p>
                          </div>

                          <a href="#YachtBoot" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 16" data-toggle="tooltip" title="Yacht">
                              <span v-if="property.selection.name == 'Yacht'">
                                <img src="https://www.lotu.de/images/gallery/icons/yacht.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/yacht1.png">
                              </span>
                          </span></a>

                          <div id="YachtBoot" class="lity-hide">
                            <p>Passend für Yacht Boot</p>
                          </div>

                          <a href="#SupBoot" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 14" data-toggle="tooltip" title="Sup">
                              <span v-if="property.selection.name == 'Sup'">
                                <img src="https://www.lotu.de/images/gallery/icons/sup.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/sup1.png">
                              </span>
                          </span></a>

                          <div id="SupBoot" class="lity-hide">
                            <p>Passend für Sup Boot</p>
                          </div>

                      </div>

                      <div class="gruppeIcons">
                          <h4>Wie wird dieser Artikel montiert?</h4>

                          <a href="#SchraubenIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 8" data-toggle="tooltip" title="Schrauben">
                              <span v-if="property.selection.name == 'Schrauben'">
                                <img src="https://www.lotu.de/images/gallery/icons/schrauben.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/schrauben1.png">
                              </span>
                          </span></a>

                          <div id="SchraubenIcon" class="lity-hide">
                            <p>Montageart: Schrauben</p>
                          </div>

                          <a href="#KlebenIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 7" data-toggle="tooltip" title="Kleben">
                              <span v-if="property.selection.name == 'Kleben'">
                                <img src="https://www.lotu.de/images/gallery/icons/kleben.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/kleben1.png">
                              </span>
                          </span></a>

                          <div id="KlebenIcon" class="lity-hide">
                            <p>Montageart: Kleben</p>
                          </div>

                          <a href="#KlemmenIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 9" data-toggle="tooltip" title="Klemmen">
                              <span v-if="property.selection.name == 'Klemmen'">
                                <img src="https://www.lotu.de/images/gallery/icons/klemmen.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/klemmen1.png">
                              </span>
                          </span></a>

                          <div id="KlemmenIcon" class="lity-hide">
                            <p>Montageart: Klemmen</p>
                          </div>

                          <a href="#keineMontageIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 10" data-toggle="tooltip" title="Keine Montage notwendig">
                              <span v-if="property.selection.name == 'Keine Montage notwendig'">
                                <img src="https://www.lotu.de/images/gallery/icons/nomount.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/nomount1.png">
                              </span>
                          </span></a>

                          <div id="keineMontageIcon" class="lity-hide">
                            <p>Montageart: Keine Montage notwendig</p>
                          </div>


                      </div>

                        <div class="gruppeIcons">
                          <h4>Ein komplettes System besteht aus Halterung + Zubehör</h4>

                          <a href="#HalterungIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 18" data-toggle="tooltip" title="Halterung">
                              <span v-if="property.selection.name == 'Halterung'">
                                <img src="https://www.lotu.de/images/gallery/icons/halterung.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/halterung1.png">
                              </span>
                          </span></a>

                          <div id="HalterungIcon" class="lity-hide">
                            <p>Halterung</p>
                          </div>

                          <a href="#ZubehoerIcon" data-lity>
                          <span class="iconsImages" v-for="(property, index) in currentVariation.properties" v-if="property.property.id == 19" data-toggle="tooltip" title="Zubehör">
                              <span v-if="property.selection.name == 'Zubehör'">
                                <img src="https://www.lotu.de/images/gallery/icons/zubehoer.png">
                              </span>
                              <span v-else-if="property.selection.name == null" class="opacityIcons">
                                <img src="https://www.lotu.de/images/gallery/icons/zubehoer1.png">
                              </span>
                          </span></a>

                          <div id="ZubehoerIcon" class="lity-hide">
                            <p>Zubehör</p>
                          </div>


                        </div>
                    </div>

    <slot name="AdditionalContentAfterVAT"></slot>

</div>
